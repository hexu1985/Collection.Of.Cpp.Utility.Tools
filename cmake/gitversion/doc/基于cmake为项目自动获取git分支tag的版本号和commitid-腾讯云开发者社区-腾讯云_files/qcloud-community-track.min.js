var U=Object.defineProperty,j=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var E=(t,e,r)=>e in t?U(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,s=(t,e)=>{for(var r in e||(e={}))O.call(e,r)&&E(t,r,e[r]);if(v)for(var r of v(e))P.call(e,r)&&E(t,r,e[r]);return t},l=(t,e)=>j(t,N(e));(function(){"use strict";const t="qct",e=window.QC_AUTOTRACK_INIT_FUNC;function r(n){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(n).replace(/[-.+*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}function q(n){return location.search.slice(1).split("&").filter(Boolean).reduce((d,o)=>{const[c,_]=o.split("=");return l(s({},d),{[c]:_})},{})[n]||""}e({report:{beforeReport:(n,y,d)=>{var m;const o=r("qcommunity_identify_id")||"",c=document.querySelector("html"),_=(c==null?void 0:c.getAttribute("qct-uid"))||"",A=(c==null?void 0:c.getAttribute("qct-pv-id"))||"",I=q("traceId"),g=q("policyId"),b=(c==null?void 0:c.getAttribute("qct-ip"))||"",k=navigator.userAgent;if(["click","show_area","stay_area","stay_page"].includes(n)&&d){let C=[],i=d,R="",T=(m=i.getAttribute("qct-area"))==null?void 0:m.split("-").pop();const w=i.parentElement;if(w){let a=Array.from(w.querySelectorAll("[qct-area]")).findIndex(u=>u===i);a>-1&&(R=String(a+1))}let x="",K="",S="";for(;i&&i.tagName!=="html";){const f=i.getAttribute("qct-area"),a=i.getAttribute("qct-policy-id"),u=i.getAttribute("qct-area-key");a&&(x=a),u&&(S=u);const $=i.getAttribute("qct-trace-id");$&&$&&(K=$),f&&C.unshift(f),i=i==null?void 0:i.parentElement}return l(s({},y),{[`${t}_area_id`]:C.join("-"),[`${t}_area_key`]:S,[`${t}_object_id`]:/^\d{2,10}$/.test(T||"")?T:"",[`${t}_index`]:R,tabReportKey:o,[`${t}_identify_id`]:o,[`${t}_uid`]:_,[`${t}_pv_id`]:A,[`${t}_policy_id`]:x,[`${t}_trace_id`]:K,[`${t}_from_trace_id`]:I,[`${t}_from_policy_id`]:g,[`${t}_user_ip`]:b,[`${t}_ua`]:k})}return l(s({},y),{tabReportKey:o,[`${t}_identify_id`]:o,[`${t}_uid`]:_,[`${t}_pv_id`]:A,[`${t}_from_trace_id`]:I,[`${t}_from_policy_id`]:g,[`${t}_user_ip`]:b,[`${t}_ua`]:k})}}});const p=window.QC_AUTOTRACK;p.config("Click",{keyAttribute:"qct-click"}),p.use("Exposure",{keyAttribute:"qct-exposure",trackStayarea:!0}),p.reStart()})();
