### 基于C++标准库实现工作线程类

**简介**

这篇文章将介绍如何基于C++标准库来实现工作线程类。
首先给出我们要实现的工作线程的定义：
我们可以将工作线程类简单的理解为简化的线程池类：只有一个工作线程的线程池类。
或者也可以类比于GUI编程里的eventloop线程。

我们先给出工作线程的基本数据结构和类对象的角色。如下图：

![工作线程](worker_thread.png)

可能有人会问既然工作线程类可以由线程池类简化而成，为啥还要
单独实现工作线程类，我给出的答案很简单：简单，工作线程类的实现更简单；）
在简单的场景中，可以用工作线程类来简化程序的实现时，
单独的工作线程类实现更简单（相比线程池类），并给到更好的可读性（因为类名更具体化）。

其次，由于任务队列和工作线程是1对1的，也就是，工作队列里的任务是串行的（不用加锁），
这时可能有人会说这样一来不就失去并发性了么？其实不然，以GUI编程为例，mainloop里
为了及时响应用户操作和UI渲染，会把文件下载或加载等需要长时间阻塞的IO事件放到单独
一个线程里处理，这种情况工作线程就十分合适，既避免了每次创建线程的开销，又保证了任务队列
自动排队。

**实现**

下面我们通过一个具体多线程例子，来说明工作线程类的实现原理。
