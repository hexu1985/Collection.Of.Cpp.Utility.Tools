(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{1357:function(e,t,n){},1976:function(e,t,n){e.exports=n.p+"img/close.7ba0700.png"},1977:function(e,t,n){"use strict";n(1357)},2445:function(e,t,n){"use strict";n.r(t);n(377),n(18);var r=n(5),o=n(3),l=n(7),c=n(4),_=n(30),v=Object(o.b)({setup:function(e,t){var n=t.root,v=Object(o.l)(!1),d=Object(o.l)(""),m=Object(o.l)({}),O=Object(o.l)("");Object(l.onMounted)(Object(r.a)(regeneratorRuntime.mark((function e(){var t,r,o,l,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.$store.dispatch(c.TCC_CONFIG,"juejin_bottom_banner");case 2:if((o=e.sent)&&o.enabled){e.next=6;break}return v.value=!1,e.abrupt("return");case 6:if(l=Date.now(),f=Object(_.b)(o.startTime),h=Object(_.b)(o.endTime),!(f&&l<f)){e.next=12;break}return v.value=!1,e.abrupt("return");case 12:if(!(h&&l>h)){e.next=15;break}return v.value=!1,e.abrupt("return");case 15:o.link&&(d.value=o.link),o.image&&(O.value=o.image,m.value={backgroundImage:"url('".concat(o.image,"')")});try{!0===JSON.parse(localStorage.getItem("BOTTOM_BANNERS_SHOWN")||"{}")[o.image]?v.value=!1:(v.value=!0,n.$TEA("global_res_bottom_expose",{user_is_login:Boolean(null===(t=n.$store.state.auth.user)||void 0===t?void 0:t.user_id),res_url:d.value,current_url:window.location.href}))}catch(e){v.value=!0,n.$TEA("global_res_bottom_expose",{user_is_login:Boolean(null===(r=n.$store.state.auth.user)||void 0===r?void 0:r.user_id),res_url:d.value,current_url:window.location.href})}case 18:case"end":return e.stop()}}),e)}))));return{bannerStyle:m,visible:v,handleClose:function(){var e;v.value=!1,n.$TEA("global_res_bottom_close",{user_is_login:Boolean(null===(e=n.$store.state.auth.user)||void 0===e?void 0:e.user_id),res_url:d.value});try{var t=JSON.parse(localStorage.getItem("BOTTOM_BANNERS_SHOWN")||"{}");t[O.value]=!0,localStorage.setItem("BOTTOM_BANNERS_SHOWN",JSON.stringify(t))}catch(e){console.error("Failed to save banner state to localStorage:",e)}},handleLink:function(){var e;n.$TEA("global_res_bottom_click",{user_is_login:Boolean(null===(e=n.$store.state.auth.user)||void 0===e?void 0:e.user_id),res_url:d.value}),window.open(d.value,"_blank")},onVisibleChange:function(e){var t;e&&n.$TEA("global_res_bottom_expose",{user_is_login:Boolean(null===(t=n.$store.state.auth.user)||void 0===t?void 0:t.user_id),res_url:d.value})}}}}),d=(n(1977),n(29)),component=Object(d.a)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.visible?r("div",{directives:[{name:"visible-change",rawName:"v-visible-change.once",value:e.onVisibleChange,expression:"onVisibleChange",modifiers:{once:!0}}],staticClass:"bottom-banner"},[r("div",{staticClass:"bottom-banner-content"},[r("div",{staticClass:"bottom-banner-content-img1",style:e.bannerStyle,on:{click:e.handleLink}}),e._v(" "),r("img",{staticClass:"bottom-banner-close",attrs:{src:n(1976)},on:{click:function(t){return t.stopPropagation(),e.handleClose(t)}}})])]):e._e()}),[],!1,null,null,null);t.default=component.exports}}]);
//# sourceMappingURL=d1d82cb.js.map