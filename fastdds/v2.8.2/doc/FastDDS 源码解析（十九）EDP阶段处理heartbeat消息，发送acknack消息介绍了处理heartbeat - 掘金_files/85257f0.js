(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1051:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return l}));var n,o,c=r(47);function l(e,t){Object(c.d)(e,t)}!function(e){e.FollowShow="follow_show",e.FollowClick="follow_click",e.FollowCancel="follow_cancel",e.FollowingFeedShow="following_feed_show"}(n||(n={})),function(e){e[e.followCommendCard=0]="followCommendCard",e[e.hotAuthors=1]="hotAuthors",e[e.homeUserPopover=2]="homeUserPopover",e[e.postUserCard=4]="postUserCard",e[e.postTop=5]="postTop",e[e.postStickyBar=6]="postStickyBar",e[e.userCenterTop=7]="userCenterTop",e[e.userCenterStickyBar=8]="userCenterStickyBar",e[e.userCenterMomentFeed=9]="userCenterMomentFeed",e[e.userCenterFollowing=10]="userCenterFollowing",e[e.userCenterTeam=11]="userCenterTeam",e[e.userCenterFollowers=12]="userCenterFollowers",e[e.commentUserPopover=13]="commentUserPopover",e[e.pinFeedUserPopover=14]="pinFeedUserPopover",e[e.pinDiggDetail=15]="pinDiggDetail",e[e.pinDetail=16]="pinDetail",e[e.clubDetail=18]="clubDetail",e[e.searchResult=19]="searchResult",e[e.teamCenterTop=20]="teamCenterTop",e[e.other=100]="other"}(o||(o={}))},1079:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return l})),r.d(t,"f",(function(){return m})),r.d(t,"d",(function(){return d})),r.d(t,"e",(function(){return f})),r.d(t,"c",(function(){return v}));r(85),r(9),r(31),r(57),r(54),r(118),r(60),r(88),r(64);var n=r(68),o=r(132);function c(){var e=new URLSearchParams;return e.append("client_key","jjpc71329jxt1zwa"),e.append("scope","user_info,user.info.basic"),e.append("source","web"),e.append("aid","2608"),e.append("redirect_uri","https://www.trae.com.cn/cloudide/api/v3/trae/BindJuejinAccount"),fetch("/passport/open/web/auth/",{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e})}function l(e,t){var r=window.location.search,n=new URL(e),c=new URLSearchParams(n.search),l=new URLSearchParams(r),m=function(e){var t=new URLSearchParams,r=new URLSearchParams(window.location.search);t.set("utm_source","juejin"),-1!==window.location.pathname.indexOf("trae-x-2025")?(t.set("utm_campaign","liebian_origin"),t.set("utm_medium","liebian")):e===o.b.ai_coding?(t.set("utm_campaign","afctp"),t.set("utm_medium","aiforcode")):e===o.b.ai_trae?(t.set("utm_campaign","afcgw"),t.set("utm_medium","aiforcode")):e===o.b.trae_learn?t.set("utm_medium","learn"):e===o.b.trae_referral_2||-1!==window.location.pathname.indexOf("loyalty-program-v1")?(t.set("utm_campaign","gw"),t.set("utm_medium","pofloyalty")):e===o.b.trae_referral_3||-1!==window.location.pathname.indexOf("rewardpoint")?(t.set("utm_campaign","jj_reward"),t.set("utm_medium","rewardpoints")):e===o.b.common?t.set("utm_medium","juejin_login"):e===o.b.ai_summary||e===o.b.code_assistant?t.set("utm_medium","ai_assistant"):(t.set("utm_campaign","juejin_content"),t.set("utm_medium","juejin_trae"));var n=r.get("utm_campaign"),c=r.get("utm_medium"),l=r.get("utm_source");return n&&t.set("utm_campaign",n),c&&t.set("utm_medium",c),l&&t.set("utm_source",l),t}(t);return fetch(e.replace("www.trae.com.cn","api.trae.com.cn"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({Platform:"PC",UtmSource:m.get("utm_source")||l.get("utm_source")||"",UtmMedium:m.get("utm_medium")||l.get("utm_medium")||"",UtmCampaign:m.get("utm_campaign")||l.get("utm_campaign")||"",UtmTerm:l.get("utm_term")||"",UtmContent:l.get("utm_content")||"",Code:c.get("code")||""})})}function m(e){var t=Object(n.a)()||"0";localStorage.setItem(t+"_traeaggrement",String(e))}function d(){var e=Object(n.a)()||"0",t=localStorage.getItem(e+"_traeaggrement");try{return!!t&&JSON.parse(t)}catch(e){return!1}}function f(){var e=Object(n.a)()||"0";localStorage.setItem(e+"_traeauthed","true")}function v(){var e=Object(n.a)()||"0",t=localStorage.getItem(e+"_traeauthed");try{return!!t&&JSON.parse(t)}catch(e){return!1}}},1081:function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));r(62),r(35),r(241),r(53),r(63),r(18);var n=r(5),o=r(3),c=r(94),l=r(132),m=r(25),d=r(4),f=r(176),v=r(1082),w=r(1),h=r(1051),_=r(240);function y(){var e,t,r,w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},y=Object(v.a)(),S=Object(o.r)(),x=Object(o.c)(),R=Object(o.l)(!1),T=Object(o.l)(!1),C=[],k=Object(o.l)(!1),U=Object(o.l)(""),F=Object(o.l)(m.c.UserType),P=Object(o.l)(h.b.other),J=Object(o.l)("关注失败，请稍后重试~"),L=Object(o.l)(""),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.itemId,r=e.itemType,n=e.isFollow,o=e.teaFollowType,c=e.errorText,l=e.successText;void 0!==t&&(U.value=t),void 0!==r&&(F.value=r),void 0!==n&&(k.value=n),void 0!==o&&(P.value=o),void 0!==c&&(J.value=c),void 0!==l&&(L.value=l),"boolean"==typeof n&&(T.value=!0)},B=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null==x?void 0:x.proxy.$ensureAuthorized({loginGuideFrom:l.b.focus_login});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",!1);case 8:if(!t||"string"==typeof t){e.next=10;break}return e.abrupt("return",!1);case 10:if((null!=t?t:U.value)&&(null!=r?r:F.value)){e.next=12;break}return e.abrupt("return",!1);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,r){return e.apply(this,arguments)}}(),M=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n){var o,l,v,w,y,O,x,T,C,I;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t,r);case 2:if(e.sent){e.next=4;break}return e.abrupt("return",{isSuccess:!1});case 4:return w=null!=t?t:U.value,y=null!=r?r:F.value,O=null!==(o=null==n?void 0:n.successText)&&void 0!==o?o:L.value,x=null!==(l=null==n?void 0:n.errorText)&&void 0!==l?l:J.value,R.value=!0,T=!0,e.prev=10,e.next=13,j({itemId:w,itemType:y});case 13:0===(C=e.sent).err_no?(k.value=!0,O&&c.Message.success(O)):(T=!1,Object(f.a)(C.err_no)||c.Message.error(C.err_msg)),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(10),T=!1,c.Message.error(x);case 21:return R.value=!1,[m.c.UserType,m.c.Team].includes(y)&&(I=null!==(v=null==n?void 0:n.teaFollowType)&&void 0!==v?v:P.value,Object(h.c)(h.a.FollowClick,{follow_status:T?1:0,current_page:Object(_.h)(window.location.href),follow_type:I,to_item_id:w,to_item_type:y===m.c.UserType?0:1})),y===m.c.UserType&&S.dispatch(d.FOLLOW_USER),e.abrupt("return",{isSuccess:T,targetStatus:!0});case 25:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t,r,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n){var o,l,f,v,w,y,j,x,T,C;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t,r);case 2:if(e.sent){e.next=4;break}return e.abrupt("return",{isSuccess:!1});case 4:return v=null!=t?t:U.value,w=null!=r?r:F.value,y=null!==(o=null==n?void 0:n.successText)&&void 0!==o?o:L.value,j=null!==(l=null==n?void 0:n.errorText)&&void 0!==l?l:J.value,R.value=!0,x=!0,e.prev=10,e.next=13,O({itemId:v,itemType:w});case 13:0===(T=e.sent).err_no?(k.value=!1,y&&c.Message.success("取消".concat(y))):(x=!1,c.Message.error(T.err_msg)),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(10),x=!1,c.Message.error("取消".concat(j));case 21:return R.value=!1,[m.c.UserType,m.c.Team].includes(w)&&(C=null!==(f=null==n?void 0:n.teaFollowType)&&void 0!==f?f:P.value,Object(h.c)(h.a.FollowCancel,{follow_status:x?1:0,current_page:Object(_.h)(window.location.href),follow_type:C,to_item_id:v,to_item_type:w===m.c.UserType?0:1})),w===m.c.UserType&&S.dispatch(d.UNFOLLOW_USER),e.abrupt("return",{isSuccess:x,targetStatus:!1});case 25:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t,r,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=n?n:k.value)){e.next=7;break}return e.next=4,N(t,r,o);case 4:return e.abrupt("return",e.sent);case 7:return e.next=9,M(t,r,o);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,r,n,o){return e.apply(this,arguments)}}(),E=function(e){var t,r,n;var o=null!==(t=null==e?void 0:e.currentPage)&&void 0!==t?t:Object(_.h)(window.location.href),c=null!==(r=null==e?void 0:e.teaFollowType)&&void 0!==r?r:T.value?P.value:void 0,l=null!==(n=null==e?void 0:e.isFollow)&&void 0!==n?n:T.value?k.value:void 0;void 0!==c&&void 0!==l?Object(h.c)(h.a.FollowShow,{current_page:o,follow_type:c,button_status:l?1:0}):C.push({currentPage:o,teaFollowType:c,isFollow:l})};return I(w),Object(o.s)(T,(function(){T.value&&(C.forEach((function(e){var t=e.currentPage,r=e.teaFollowType,n=e.isFollow;E({currentPage:t,teaFollowType:null!=r?r:P.value,isFollow:null!=n?n:k.value})})),C.splice(0,C.length))})),{isFollow:k,followLoading:R,doFollow:(r=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.do((function(){return M(t,r,n)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t,n){return r.apply(this,arguments)}),cancelFollow:(t=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.do((function(){return N(t,r,n)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,r,n){return t.apply(this,arguments)}),toggleFollow:(e=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.do((function(){return D(t,r,n,o)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(t,r,n,o){return e.apply(this,arguments)}),setFollowInfo:I,traceFollowShow:E}}function j(e){var t=e.itemId,r=e.itemType;return Object(w.d)({url:"/interact_api/v1/follow/do",method:"post",showError:!1,body:{id:t,type:r}})}function O(e){var t=e.itemId,r=e.itemType;return Object(w.d)({url:"/interact_api/v1/follow/undo",method:"post",showError:!1,body:{id:t,type:r}})}},1082:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));r(9);var n=r(12),o=r(13),c=function(){return Object(o.a)((function e(){Object(n.a)(this,e),this.busy=!1}),[{key:"do",value:function(e){var t=this;return this.busy?Promise.resolve(void 0):(this.busy=!0,Promise.resolve("function"==typeof e?e():e).then((function(e){return t.busy=!1,e})).catch((function(e){return t.busy=!1,Promise.reject(e)})))}}])}();function l(){return new c}},1083:function(e,t,r){"use strict";r.d(t,"b",(function(){return w})),r.d(t,"a",(function(){return h}));r(18);var n=r(5),o=r(3),c=r(6),l=r(64),m=r(23),d=r(17),f=r(278),v=r(68);function w(e){var t=Object(f.c)({maxDurationMS:9e4}),r=t.stayDuration,d=t.isCancelled,v=t.cancel;function w(){return(w=Object(n.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d.value){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,l.a.AddPointReport({growth_type:m.d.JScore,task_id:m.c.ViewContent,item_id:t});case 5:(r=e.sent).err_no!==c.ERROR_NO.OK?console.warn("error reportViewContentJScore reason:".concat(r.err_msg)):v(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.warn("error reportViewContentJScore err:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}Object(o.t)((function(){r.value>=9e4&&function(e){w.apply(this,arguments)}(e)}))}function h(){return _.apply(this,arguments)}function _(){return(_=Object(n.a)(regeneratorRuntime.mark((function e(){var t,r,n,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]&&o[0],r=t?Object(v.f)(sessionStorage.getItem(d.b.reportBindPhoneJScore)||"null"):{growth_type:m.d.JScore,task_id:m.c.BindPhone,item_id:"0"}){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,t||sessionStorage.setItem(d.b.reportBindPhoneJScore,JSON.stringify(r)),e.next=8,l.a.AddPointReport(r);case 8:(n=e.sent).err_no!==c.ERROR_NO.OK&&console.warn("error reportBindPhoneJScore reason:".concat(n.err_msg)),sessionStorage.removeItem(d.b.reportBindPhoneJScore),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.warn("error reportBindPhoneJScore, set to sessionStorage, ".concat(JSON.stringify(r)," err:"),e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})))).apply(this,arguments)}},1117:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return l}));r(18);var n=r(5),o=r(3);function c(){var e=Object(o.c)();return{openReportModal:function(t,r){if(e){var n=e.proxy.$getBean("eventBus");n.emit(n.eventType.REPORT_CONTENT,t,r)}}}}function l(e){var t=Object(o.k)({visible:!1,show:!1});function r(){return(r=Object(n.a)(regeneratorRuntime.mark((function r(n,o){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.$validLogin()){r.next=2;break}return r.abrupt("return");case 2:t.show||(t.show=!0),t.visible=!0,t.itemId=n,t.idType=o;case 6:case"end":return r.stop()}}),r)})))).apply(this,arguments)}return{reportModalData:t,showReportModal:function(e,t){return r.apply(this,arguments)}}}},1139:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return m})),r.d(t,"d",(function(){return d})),r.d(t,"c",(function(){return f}));r(9),r(31),r(57),r(118),r(60),r(88),r(64);var n=r(68),o=r(11),c=r(132);function l(){var e=new URLSearchParams,t=Object(o.c)()||Object(o.d)()?"jjv636elhseb626s":"jj6eipgo1jpnp8uz",r=Object(o.c)()||Object(o.d)()?"marscode-boe.bytedance.net":"www.marscode.cn";return e.append("client_key",t),e.append("scope","user_info,user.info.basic"),e.append("source","web"),e.append("aid","2608"),e.append("redirect_uri","https://".concat(r,"/cloudide/api/v3/public/BindJuejinAccount")),fetch("/passport/open/web/auth/",{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e})}function m(e,t){var r=window.location.search,n=new URL(e),o=new URLSearchParams(n.search),l=new URLSearchParams(r),m=function(e){var t=new URLSearchParams;return e===c.b.code_assistant||e===c.b.ai_summary?(t.set("utm_source","ai_assitant"),t.set("utm_medium","juejin"),t.set("utm_campaign","registration")):e!==c.b.book_ai_learning&&e!==c.b.book_section_ai_learning||(t.set("utm_source","ai_learning"),t.set("utm_medium","juejin"),t.set("utm_campaign","registration")),t}(t);return fetch(e,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({Platform:"PC",UtmSource:m.get("utm_source")||l.get("utm_source")||"",UtmMedium:m.get("utm_medium")||l.get("utm_medium")||"",UtmCampaign:m.get("utm_campaign")||l.get("utm_campaign")||"",UtmTerm:l.get("utm_term")||"",UtmContent:l.get("utm_content")||"",Code:o.get("code")||""})})}function d(){var e=Object(n.a)()||"0";localStorage.setItem(e+"_marsauthed","true")}function f(){var e=Object(n.a)()||"0",t=localStorage.getItem(e+"_marsauthed");try{return!!t&&JSON.parse(t)}catch(e){return!1}}}}]);
//# sourceMappingURL=85257f0.js.map