(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{1382:function(t,e,n){},1383:function(t,e,n){},2062:function(t,e,n){n(10);var o=n(170),l=n(202),c=["class","staticClass","style","staticStyle","attrs"];function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),v=e.children,f=void 0===v?[]:v,d=data.class,m=data.staticClass,style=data.style,_=data.staticStyle,O=data.attrs,h=void 0===O?{}:O,w=l(data,c);return n("svg",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({class:[d,m],style:[style,_],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},h)},w),f.concat([n("circle",{attrs:{cx:"12",cy:"12",r:"11.4",transform:"matrix(-1 0 0 1 24 0)",fill:"white",stroke:"#C2C8D1","stroke-width":"1.2"}}),n("path",{attrs:{d:"M14 8.83122C14 8.40501 13.5009 8.17422 13.1762 8.45025L9.4482 11.619C9.2133 11.8187 9.2133 12.1813 9.4482 12.381L13.1762 15.5497C13.5009 15.8258 14 15.595 14 15.1688V8.83122Z",fill:"#515767"}})]))}}},2063:function(t,e,n){n(10);var o=n(170),l=n(202),c=["class","staticClass","style","staticStyle","attrs"];function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),v=e.children,f=void 0===v?[]:v,d=data.class,m=data.staticClass,style=data.style,_=data.staticStyle,O=data.attrs,h=void 0===O?{}:O,w=l(data,c);return n("svg",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({class:[d,m],style:[style,_],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},h)},w),f.concat([n("circle",{attrs:{cx:"12",cy:"12",r:"11.4",fill:"white",stroke:"#C2C8D1","stroke-width":"1.2"}}),n("path",{attrs:{d:"M10 8.83122C10 8.40501 10.4991 8.17422 10.8238 8.45025L14.5518 11.619C14.7867 11.8187 14.7867 12.1813 14.5518 12.381L10.8238 15.5497C10.4991 15.8258 10 15.595 10 15.1688V8.83122Z",fill:"#515767"}})]))}}},2064:function(t,e,n){"use strict";n(1382)},2065:function(t,e,n){"use strict";n(1383)},2419:function(t,e,n){"use strict";n.r(e);var o=n(3),l=n(2062),c=n.n(l),r=n(2063),v=n.n(r),f=(n(10),n(62),n(27),n(84),n(9),n(63),n(0)),d=(n(18),n(5)),m=n(94),_=n(6),content=n(1309),O=n(114),h=n(141),w=n(380),j=n(1150),C=n(1073),y=n(176),x=n(307),I=n(51),P=n(119),k=n(47);function L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var A=Object(o.b)({components:{BButton:m.Button,JButton:C.a,Thumb:h.a,ColumnCatalogList:function(){return n.e(55).then(n.bind(null,2450))}},props:{column_item:{type:Object,required:!0},rank:{type:Number,required:!0}},setup:function(t,e){var n,l=Object(o.l)(!1);Object(o.h)((function(){var t;l.value="aicoding.juejin.cn"===(null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.hostname);var n=e.root.$getBean("eventBus");n.on(n.eventType.ROOT_CONTAINER_CLICK,(function(){m.value=!1})),z()}));var c=Object(o.r)(),r=Object(o.l)("0"),v=Object(o.l)(!0),f=Object(o.l)([]),m=Object(o.l)(!1),h=Object(o.l)(!1),C=Object(o.a)((function(){return t.column_item.column_info})),L=Object(o.a)((function(){var e;return null!==(e=t.column_item.next_article_info)&&void 0!==e?e:{}})),A=Object(o.a)((function(){var e;return null!==(e=t.column_item.prev_article_info)&&void 0!==e?e:{}})),D=Object(o.a)((function(){return Object(x.b)(C.value.column.follow_cnt)})),E=Object(o.a)((function(){return Object(x.b)(C.value.column.article_cnt)})),T=Object(o.a)((function(){return C.value.column_id})),R=Object(o.l)(null===(n=C.value)||void 0===n?void 0:n.is_follow),B=Object(o.l)(!1);Object(o.s)(T,(function(){!function(){var t;r.value="0",v.value=!0,f.value=[],m.value=!1,h.value=!1,R.value=null===(t=C.value)||void 0===t?void 0:t.is_follow}()}));var F=Object(o.a)((function(){return e.root.$device.isMobile})),M=Object(o.a)((function(){return N.value&&F.value})),N=Object(o.a)((function(){return e.root.$store.state.auth.user&&e.root.$store.state.auth.user.user_id===C.value.author.user_id})),$=c.state.view.column,V=function(){var t=Object(d.a)(regeneratorRuntime.mark((function t(n,o){var l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.stopPropagation(),n.preventDefault(),t.prev=2,t.next=5,e.root.$ensureAuthorized();case 5:t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(2),t.abrupt("return");case 10:B.value=!0,l=(l=$.columnList).map((function(t){return t.column_info.column_id===T.value?S(S({},t),{},{column_info:S(S({},t.column_info),{},{is_follow:o})}):t})),o?Object(O.a)({id:T.value,type:24}).then((function(t){Object(y.a)(t.err_no)||(R.value=o,c.commit("view/column/UPDATE_STATE",{columnList:l}))})).finally((function(){B.value=!1})):Object(O.d)({id:T.value,type:24}).then((function(){R.value=o,c.commit("view/column/UPDATE_STATE",{columnList:l})})).finally((function(){B.value=!1}));case 14:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,n){return t.apply(this,arguments)}}(),z=function(){if(T.value&&"0"!==T.value&&("0"===r.value||v.value))return h.value=!0,Object(content.a)({column_id:T.value,cursor:r.value,limit:20,sort:0}).then((function(t){var e=t.data,data=void 0===e?[]:e,cursor=t.cursor,n=t.has_more;f.value=(f.value||[]).concat(data),r.value=cursor,v.value=n})).finally((function(){h.value=!1}))},J=Object(P.b)((function(){return z()}),1e3);return{handleColumnVisible:function(e){if(e){Object(k.d)("column_entrance_display",{cloumn_id:T.value,rank:t.rank,column_location:j.a.articleEnd});var n=["item_display","item_display_for_creator"];A.value.article_id&&n.forEach((function(t){Object(k.d)(t,{event_page:I.a.columnPrevArticle,from_seo:Object(w.b)(),item_type:_.IdType.ArticleIdType,item_id:A.value.article_id,rank:1})})),L.value.article_id&&n.forEach((function(t){Object(k.d)(t,{event_page:I.a.columnNextArticle,from_seo:Object(w.b)(),item_type:_.IdType.ArticleIdType,item_id:L.value.article_id,rank:2})}))}},columnInfo:C,nextArticleInfo:L,prevArticleInfo:A,isFollow:R,catalogList:f,handleFollowChange:V,handleColumnRoute:function(){Object(k.d)("column_entrance_click",{column_id:T.value,column_location:j.a.articleEnd,rank:t.rank});var e=l.value?"https://juejin.cn/column/".concat(C.value.column_id):"/column/".concat(C.value.column_id);null===window||void 0===window||window.open(e,"_blank")},enterPost:function(t,e){switch(e){case"prev":null===localStorage||void 0===localStorage||localStorage.setItem("fromPage","columnPrevArticle");break;case"next":null===localStorage||void 0===localStorage||localStorage.setItem("fromPage","columnNextArticle")}Object(k.d)("item_click",{event_page:{prev:I.a.columnPrevArticle,next:I.a.columnNextArticle}[e],from_seo:Object(w.b)(),item_type:_.IdType.ArticleIdType,item_id:t.article_id,rank:{prev:1,next:2}[e]});var n="/post/".concat(t.article_id);null===window||void 0===window||window.open(n,"_blank")},fetchCatalog:z,onShouldFetchMore:J,handleShowColumnList:function(){h.value||(m.value||f.value.length?!m.value&&f.value.length?m.value=!0:m.value=!1:(m.value=!0,z()))},showColumnList:m,isSelf:N,showLoading:B,isMobile:F,isSelfMobile:M,followCount:D,articleCount:E}}}),D=(n(2064),n(29)),E=Object(D.a)(A,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"visible-change",rawName:"v-visible-change.visible.once",value:t.handleColumnVisible,expression:"handleColumnVisible",modifiers:{visible:!0,once:!0}}],staticClass:"item-container",on:{click:t.handleColumnRoute}},[n("div",{staticClass:"main"},[n("Thumb",{staticClass:"thumb",attrs:{url:t.columnInfo.column_version.cover,lazy:!1,width:80,height:60,alt:"cover"}}),t._v(" "),n("div",{staticClass:"content",class:{"content-expand":t.isSelfMobile}},[n("div",{staticClass:"title-container"},[t.columnInfo.column_version.title&&t.columnInfo.column_version.title.length>22?n("div",{staticClass:"tooltip",attrs:{placement:"top-start","max-width":"472px",content:t.columnInfo.column_version.title||""}},[n("span",{staticClass:"title"},[t._v("\n            "+t._s(t.columnInfo.column_version.title||"")+"\n          ")])]):n("div",{staticClass:"title"},[t._v("\n          "+t._s(t.columnInfo.column_version.title||"")+"\n        ")]),t._v(" "),n("div",{staticClass:"catalog",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleShowColumnList(e)}}},[t._v("\n          专栏目录\n          "),t.showColumnList&&t.catalogList.length?n("ColumnCatalogList",{staticClass:"column-list",attrs:{list:t.catalogList,"column-id":t.columnInfo.column_version.column_id,title:t.columnInfo.column_version.title},on:{"should-fetch-more":t.onShouldFetchMore}}):t._e()],1)]),t._v(" "),t.columnInfo.column_version.content&&t.columnInfo.column_version.content.length>27?n("div",{staticClass:"tooltip",attrs:{placement:"top-start","max-width":"472px",content:t.columnInfo.column_version.content||""}},[n("span",{staticClass:"description"},[t._v("\n          "+t._s(t.columnInfo.column_version.content||"")+"\n        ")])]):n("div",{staticClass:"description"},[t._v("\n        "+t._s(t.columnInfo.column_version.content||"")+"\n      ")]),t._v(" "),n("div",{staticClass:"column-detail"},[n("div",{staticClass:"follow-number"},[t._v(t._s(t.followCount)+" 订阅")]),t._v(" "),n("div",{staticClass:"dot"},[t._v("·")]),t._v(" "),n("div",{staticClass:"article-number"},[t._v(t._s(t.articleCount)+" 篇文章")])])]),t._v(" "),t.isSelf?n("b-button",{staticClass:"btn cancel-btn",attrs:{type:"text"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleColumnRoute(e)}}},[t._v("\n      进入专栏\n    ")]):t._e(),t._v(" "),t.isSelf?t._e():n("j-button",{staticClass:"btn follow-btn",class:{followed:t.isFollow},attrs:{size:"mini",attention:!0,cancel:t.isFollow,"custom-attention-text":"订阅","cancel-attention-text":"已订阅",loading:t.showLoading},on:{click:function(e){return t.handleFollowChange(e,!t.isFollow)}}})],1),t._v(" "),n("div",{staticClass:"divide"}),t._v(" "),n("div",{staticClass:"related-article"},[t.prevArticleInfo.title?n("div",{staticClass:"prev-article"},[n("div",{staticClass:"prev"},[t._v("上一篇")]),t._v(" "),n("div",{staticClass:"title",on:{click:function(e){return e.stopPropagation(),t.enterPost(t.prevArticleInfo,"prev")}}},[t._v("\n        "+t._s(t.prevArticleInfo.title)+"\n      ")])]):t._e(),t._v(" "),t.nextArticleInfo.title?n("div",{staticClass:"next-article"},[n("div",{staticClass:"next"},[t._v("下一篇")]),t._v(" "),n("div",{staticClass:"title",on:{click:function(e){return e.stopPropagation(),t.enterPost(t.nextArticleInfo,"next")}}},[t._v("\n        "+t._s(t.nextArticleInfo.title)+"\n      ")])]):t._e()])])}),[],!1,null,"683ff071",null).exports,T=Object(o.b)({components:{ColumnPostItem:E,Left:c.a,Right:v.a},props:{columnList:{type:Array,default:function(){return[]}}},setup:function(t){var e=Object(o.l)(1),n=Object(o.a)((function(){var e;return null!==(e=t.columnList.length)&&void 0!==e?e:0})),l=Object(o.a)((function(){return t.columnList[e.value-1]}));return{currentIndex:e,total:n,currentItem:l,onClickLeft:function(){e.value>1&&(e.value-=1)},onClickRight:function(){e.value<n.value&&(e.value+=1)}}}}),R=(n(2065),Object(D.a)(T,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.total>0?n("div",{staticClass:"column-container"},[n("div",{staticClass:"column-header"},[n("span",{staticClass:"column-title"},[t._v("本文收录于以下专栏")]),t._v(" "),t.total>1?n("div",{staticClass:"pagination"},[n("Left",{class:["prev",{disabled:1===t.currentIndex}],on:{click:t.onClickLeft}}),t._v(" "),n("div",{staticClass:"number"},[t._v("\n        "+t._s(t.currentIndex+" / "+t.total)+"\n      ")]),t._v(" "),n("Right",{class:["next",{disabled:t.currentIndex===t.total}],on:{click:t.onClickRight}})],1):t._e()]),t._v(" "),t._l(t.columnList,(function(e,o){return n("column-post-item",{directives:[{name:"show",rawName:"v-show",value:t.currentIndex-1===o,expression:"currentIndex - 1 === index"}],key:e.column_info&&e.column_info.column_id,staticClass:"column-content",attrs:{rank:t.currentIndex,column_item:e}})}))],2):t._e()}),[],!1,null,"3b9afad6",null));e.default=R.exports}}]);
//# sourceMappingURL=e896912.js.map