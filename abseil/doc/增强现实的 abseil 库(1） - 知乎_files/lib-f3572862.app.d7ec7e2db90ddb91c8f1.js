"use strict";(self.webpackChunkheifetz=self.webpackChunkheifetz||[]).push([[7749],{55283:function(e,t,i){i.d(t,{ZP:function(){return ez},cD:function(){return eA},o6:function(){return eT}});var n=i(9338),o=i(55164),r=i(57477),d=i(94009),a=i(30971),l=i(85879),c=i(87363),s=i(43384),u=i(59590),p=i(83697),v=i(54928),h=i(7753),f=i(80565),g=i(23579),x=i(9478),m=i.n(x),b=i(74135),_=function(e,t){return fetch(e,(0,o._)({credentials:"include",headers:{"X-Requested-With":"Fetch"}},t)).then(function(e){if(e.ok)return e.json();throw Error("".concat(e.status," ").concat(e.statusText))})},C=function(){var e;if("undefined"!=typeof window){var t=(null===(e=window.location)||void 0===e?void 0:e.host)||"";if(t.indexOf(".zpres.zhihu.com")>-1){var i=t.match(/-\d+-/g),n=null==i?void 0:i[0].replace(/-/g,"");return n?"https://education-webapp--box-".concat(n,".zpres.zhihu.com/api.zhihu.com"):""}}return""}()||"https://api.zhihu.com",w=function(){return"undefined"!=typeof window&&window.Raven&&window.Raven.captureException.bind(window.Raven)||function(){}},Z=function(){return(0,l.BX)("div",{css:{display:"flex",flexDirection:"column",flexWrap:"nowrap",justifyContent:"center",alignItems:"center",backgroundColor:"#FFFFFF",borderRadius:"8px",padding:"15px 12px 0 12px",boxSizing:"border-box",width:"180px",fontFamily:"PingFang SC",":after":{position:"absolute",top:"50%",left:"-20px",marginTop:"-13px",content:'""',display:"block",width:0,height:0,borderTop:"13px solid transparent",borderBottom:"13px solid transparent",borderLeft:"10px solid transparent",borderRight:"10px solid #FFFFFF"}},children:[(0,l.tZ)("img",{css:{width:"156px",height:"156px",borderRadius:"4px",border:"0.5px solid #EBEBEB"},src:"https://pica.zhimg.com/v2-d5d2651cb8c5fb1a20a696ef7751c877.png?source=6a64a727",alt:"https://oiz.zhihu.com"},void 0),(0,l.tZ)("span",{css:{display:"inline-block",padding:"10px 0 11px 0",fontWeight:400,fontSize:"13px",lineHeight:"18px",textAlign:"center",color:"#444444"},children:"手机扫码即可下载"},void 0)]},void 0)},y=function(){var e=(0,d._)((0,c.useState)(NaN),2),t=e[0],i=e[1],n=(0,c.useCallback)(function(){var e;"visible"!==document.visibilityState&&t&&("function"==typeof(null===(e=null==window?void 0:window.statsc)||void 0===e?void 0:e.timing)&&window.statsc.timing({name:"edu-card.click",options:{version:"all"}},window.performance.now()-t,1),window.removeEventListener("visibilitychange",n,!1))},[t]);return(0,c.useEffect)(function(){return window.addEventListener("visibilitychange",n,!1),function(){window.removeEventListener("visibilitychange",n,!1)}},[n]),{startRecord:function(){i(window.performance.now())},clearRecord:function(){i(NaN)}}},k=function(e){var t=e.id,i=e.url,n=e.eduCardShowId,a=e.backendMapBytes,h=void 0===a?"":a,f=e.contentType,g=e.templateType,x=e.token,m=e.materialId,b=e.missionId,C=e.missionComponentType,k=e.skuId,S=e.channelTrackingUrl,B=e.Popover,F=e.onError,I=(0,p.n)(),z=(0,s.Q4)().trackEvent,T=(0,d._)((0,c.useState)(!1),2),A=T[0],R=T[1],E=y(),L=E.startRecord,X=E.clearRecord,H=(0,c.useRef)(null),W="5"===String(C)&&!I.Mobile&&B;(0,c.useEffect)(function(){H.current=document.createElement("a"),H.current.setAttribute("target","_blank")},[]);var M={id:(null==t?void 0:t.toString())||"",materialId:(null==m?void 0:m.toString())||"",missionId:(null==b?void 0:b.toString())||"",templateType:(null==g?void 0:g.toString())||"",skuId:(null==k?void 0:k.toString())||"",contentType:(null==f?void 0:f.toString())||"",token:(null==x?void 0:x.toString())||""},j=function(){var e=F||w();if(L(),!i||!t){e(Error("EducationCard Error: missing key info"),{level:"warning",extra:{url:i,id:t}});return}var a="".concat(n||"").concat(+new Date),l=i.split("?")[0],c=v.parse(i.split("?")[1]),s="".concat(l,"?").concat(v.stringify((0,r._)((0,o._)({},c),{edu_card_id:t,edu_click_id_fe:a,refer:window.location.href})));if(z({action:"OpenUrl",eventType:"Click",elementLocation:{moduleId:"edu_card",type:"Card",content:{type:"Training",id:(null==t?void 0:t.toString())||""}}},{link:{url:s},configMap:(0,r._)((0,o._)({},M),{click_id_fe:a}),backendMapBytes:h}),S&&I.Mobile)try{var p=(0,d._)(S.split("?"),2),f=p[0],g=p[1],x=v.parse(g).callback_url,m=(0,d._)(decodeURIComponent(x).split("?"),2),b=m[0],C=m[1],Z="".concat(b,"?").concat(v.stringify((0,r._)((0,o._)({},v.parse(C)),{edu_click_id_fe:a}))),y="".concat(f,"?").concat(v.stringify((0,r._)((0,o._)({},v.parse(g)),{callback_url:encodeURIComponent(Z)})));_(y).catch(function(t){e(Error("EducationCard Fetch Error: ".concat((null==t?void 0:t.message)||"unknow")),{level:"warning",extra:{channelTrackingUrl:S,clickIdFe:a}})})}catch(t){e(Error("EducationCard Parse URL Error"),{level:"warning",extra:{channelTrackingUrl:S,clickIdFe:a}})}if(W){R(!0),X();return}I.ZhihuHybrid?(0,u.Z)("base/openURL").dispatch({url:s}).catch(function(e){return console.error(e)}):H.current&&(H.current.href=s,H.current.click())};return(0,l.tZ)(s.eV,{content:{type:"Training",id:(null==t?void 0:t.toString())||""},children:(0,l.tZ)(s.Wi,{as:"div",shouldTrackShow:!0,shouldTrackClick:!1,zaType:"Card",zaModuleId:"edu_card",extra:{configMap:M,backendMapBytes:h},onClick:W?void 0:j,"data-draft-node":"block","data-draft-type":"edu-card","data-edu-card-id":t,zaShowOptions:{once:!1},css:{textAlign:4===g?"center":"inherit"},children:W?(0,l.tZ)(B,{globalClose:!0,listenResize:!0,arrowed:!1,toggler:(0,l.tZ)("div",{style:{width:"390px"},children:e.children},void 0),hoverDelay:100,placement:"right",isOpen:A,onClose:function(){return R(!1)},onOpen:j,style:{borderRadius:"8px"},children:(0,l.tZ)(Z,{},void 0)},void 0):e.children},void 0)},void 0)},S={display:"flex",justifyContent:"space-between",flexWrap:"nowrap",alignItems:"center"},B={display:"flex",flexDirection:"column",justifyContent:"space-around",height:"100%"},F=function(e){var t;return{boxSizing:"border-box",padding:"12px",background:(null===(t=null==e?void 0:e.colors)||void 0===t?void 0:t.GBK10A)||"#F6F6F6",backdropFilter:"blur(27.1828px)",borderRadius:"8px"}},I=function(){return{position:"relative",flex:"0 0 auto",marginRight:"12px",borderRadius:"6px",backgroundColor:"#E2E2E2",backgroundSize:"100% 100%",img:{borderRadius:"6px",width:"100%",height:"100%"}}},z=function(e){var t;return(0,o._)({flex:"0 0 auto",width:"100%",lineHeight:"20px",fontWeight:700,fontSize:"15px",wordBreak:"break-word",color:(null===(t=null==e?void 0:e.colors)||void 0===t?void 0:t.GBK02A)||"#121212"},(0,f.S)(2))},T=function(e){var t;return(0,o._)({flex:"0 0 auto",width:"100%",lineHeight:"18px",fontSize:"13px",wordBreak:"break-word",color:(null===(t=null==e?void 0:e.colors)||void 0===t?void 0:t.GBK06A)||"#999999"},(0,f.S)(1))},A=function(e){return function(t){var i,n,o=(null===(i=null==t?void 0:t.colors)||void 0===i?void 0:i.GBK06A)||"#999999",r=(null===(n=null==t?void 0:t.colors)||void 0===n?void 0:n[e])||e;return{display:"flex",justifyContent:"flex-end",alignItems:"center",flex:"0 0 auto",textAlign:"right",fontSize:"13px",lineHeight:"17px",fontWeight:500,color:e?r:o}}},R=function(e){var t=e.markInfo,i=e.type;return t&&t.text?"image"===i?(0,l.tZ)("span",{css:function(e){return t.shadowColor?{position:"absolute",display:"inline-block",padding:"2px 3px 1.5px 3px",right:"3px",bottom:"3px",borderRadius:"2px",color:"#FFFFFF",fontSize:"10px",fontWeight:500,lineHeight:"1",letterSpacing:"0.02em",wordBreak:"break-all",backgroundColor:(0,g.a)((null==e?void 0:e.colors[t.shadowColor])||"#000").alpha(.3)}:{position:"absolute",display:"inline-block",padding:"0px",right:"6px",bottom:"6px",color:"#FFFFFF",fontSize:"9px",fontWeight:500,lineHeight:"1",letterSpacing:"0.02em",wordBreak:"break-all",textShadow:"0px 0px 4px rgba(0, 0, 0, 0.5)"}},children:t.text},void 0):(0,l.tZ)("span",{css:{flex:"0 0 auto","&::before":"text-with-point"===i?{display:"inline-block",content:'"\xb7"',padding:"0 0.5em"}:{}},children:t.text},void 0):null},E=function(e){var t=e.title,i=e.subtitle,n=e.enableButton,d=e.buttonText,a=e.buttonTextColor,c=e.markInfo;return(0,l.BX)("div",{css:function(e){return(0,r._)((0,o._)({},S,F(e)),{height:"84px"})},children:[(0,l.BX)("div",{css:function(){return(0,o._)({},B)},children:[(0,l.tZ)("span",{css:z,children:t},void 0),i&&(0,l.BX)("span",{css:function(e){var t;return{display:"flex",justifyContent:" flex-start",flexWrap:"nowrap",alignItems:"center",width:"100%",lineHeight:"18px",fontSize:"13px",wordBreak:"break-word",color:(null===(t=null==e?void 0:e.colors)||void 0===t?void 0:t.GBK06A)||"#999999"}},children:[(0,l.tZ)("span",{css:(0,o._)({flex:"0 1 auto"},(0,f.S)(1)),children:i},void 0),(0,l.tZ)(R,{type:"text-with-point",markInfo:c},void 0)]},void 0)]},void 0),(0,l.tZ)("div",{css:{flex:"0 1 12px"}},void 0),(0,l.BX)("div",{css:A(n&&a||""),children:[n?d:"",(0,l.tZ)(h.ZP,{size:12},void 0)]},void 0)]},void 0)},L=function(e){var t=e.tags;return(0,l.tZ)("div",{css:{overflow:"hidden",display:"flex",flexWrap:"wrap",alignItems:"center",height:"20px"},children:Array.isArray(t)&&t.map(function(e,t){return e.text&&(0,l.tZ)("span",{css:function(e){var t,i;return{margin:"0px 6px 0px 0px",padding:"0 7px",boxSizing:"border-box",height:"20px",borderRadius:"4px",backgroundColor:(0,g.a)((null===(t=null==e?void 0:e.colors)||void 0===t?void 0:t.GYL06A)||"#F8E2C4").alpha(.3),fontSize:"10px",fontWeight:500,lineHeight:"20px",color:(null===(i=null==e?void 0:e.colors)||void 0===i?void 0:i.GYL01A)||"#FF9607"}},children:e.text},"".concat(t).concat(e.text))})},void 0)},X=function(e){var t,i,n,d=e.title,a=e.subtitle,c=e.thumbnail,s=e.enableButton,u=e.buttonText,p=e.buttonTextColor,v=e.markInfo,g=e.tags,x=e.bottomInfo,m=function(e){return(0,r._)((0,o._)({},z(e)),{fontWeight:500})},b=function(e){var t;return(0,o._)({color:(null===(t=null==e?void 0:e.colors)||void 0===t?void 0:t.GRD12A)||"#FF3230",fontSize:"12px",fontWeight:400,lineHeight:"normal"},(0,f.S)(1))},_=a||(null==g?void 0:g.length)||(null===(t=null==x?void 0:x.specialTag)||void 0===t?void 0:t.text);return(0,l.BX)("div",{css:function(e){return(0,r._)((0,o._)({},S,F(e)),{height:"109px"})},children:[(0,l.tZ)("div",{css:function(e){return(0,r._)((0,o._)({},I()),{width:"85px",height:"85px",backgroundImage:c?"url(".concat(c,")"):""})},children:(0,l.tZ)(R,{type:"image",markInfo:v},void 0)},void 0),(0,l.tZ)("div",{css:function(){return(0,r._)((0,o._)({},S),{flex:"1 1 auto",height:"100%"})},children:s?(0,l.BX)("div",{css:(0,r._)((0,o._)({},B),{justifyContent:"space-between",width:"100%"}),children:[(0,l.BX)("div",{children:[(0,l.tZ)("span",{css:m,children:d},void 0),a&&(0,l.tZ)("span",{css:T,children:a},void 0),!a&&g&&(0,l.tZ)("div",{css:{marginTop:"4px"},children:(0,l.tZ)(L,{tags:g},void 0)},void 0)]},void 0),(0,l.BX)("div",{css:S,children:[(0,l.tZ)("span",{css:b,children:(null===(i=null==x?void 0:x.specialTag)||void 0===i?void 0:i.text)||""},void 0),(0,l.BX)("span",{css:A(p||""),children:[(0,l.tZ)("span",{children:u},void 0),(0,l.tZ)(h.ZP,{size:12},void 0)]},void 0)]},void 0)]},void 0):(0,l.BX)(l.HY,{children:[(0,l.BX)("div",{css:(0,r._)((0,o._)({},B),{justifyContent:"center"}),children:[(0,l.tZ)("span",{css:m,children:d},void 0),!!_&&(0,l.BX)(l.HY,{children:[(0,l.tZ)("div",{css:{flex:"0 1 18px"}},void 0),a&&(0,l.tZ)("span",{css:T,children:a},void 0),!a&&g&&(0,l.tZ)(L,{tags:g},void 0),!a&&!g&&x&&(0,l.tZ)("span",{css:b,children:(null===(n=null==x?void 0:x.specialTag)||void 0===n?void 0:n.text)||""},void 0)]},void 0)]},void 0),(0,l.tZ)("div",{css:A(""),children:(0,l.tZ)(h.ZP,{size:12},void 0)},void 0)]},void 0)},void 0)]},void 0)},H=function(e){var t=e.title,i=e.subtitle,n=e.thumbnail,d=e.buttonText,a=e.buttonTextColor,c=e.markInfo;return(0,l.BX)("div",{css:function(e){return(0,r._)((0,o._)({},S,F(e)),{height:"124px"})},children:[(0,l.tZ)("div",{css:function(e){return(0,r._)((0,o._)({},(0,r._)((0,o._)({},I()),{width:"75px",height:"100px"})),{backgroundImage:n?"url(".concat(n,")"):""})},children:(0,l.tZ)(R,{type:"image",markInfo:c},void 0)},void 0),(0,l.tZ)("div",{css:function(){return(0,r._)((0,o._)({},S),{flex:"1 1 auto",height:"100%"})},children:(0,l.BX)("div",{css:function(){return(0,r._)((0,o._)({},B),{justifyContent:"center",width:"100%"})},children:[(0,l.tZ)("span",{css:z,children:t},void 0),(0,l.tZ)("span",{css:{display:"block",content:'""',flex:"0 1 auto",height:"30px",width:"100%"}},void 0),(0,l.BX)("div",{css:function(){return(0,r._)((0,o._)({},S),{"span:first-of-type":{fontSize:"15px"}})},children:[(0,l.tZ)("span",{css:A("GRD10A"),children:i},void 0),(0,l.BX)("span",{css:A(a||""),children:[d,(0,l.tZ)(h.ZP,{size:12},void 0)]},void 0)]},void 0)]},void 0)},void 0)]},void 0)},W=function(){return(0,l.tZ)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.55162 12.5885C2.76925 11.8062 2.76925 10.5377 3.55162 9.75534L5.29004 8.01692C5.4853 7.82166 5.4853 7.50507 5.29004 7.30981C5.09478 7.11455 4.7782 7.11455 4.58294 7.30981L2.84451 9.04824C1.67162 10.2211 1.67162 12.1228 2.84451 13.2956C4.0174 14.4685 5.91902 14.4685 7.09191 13.2956L8.83034 11.5572C9.0256 11.362 9.0256 11.0454 8.83034 10.8501C8.63508 10.6548 8.31849 10.6548 8.12323 10.8501L6.38481 12.5885C5.60244 13.3709 4.33398 13.3709 3.55162 12.5885ZM7.1702 4.72255C6.97494 4.91781 6.97494 5.23439 7.1702 5.42965C7.36546 5.62492 7.68205 5.62492 7.87731 5.42965L9.65378 3.65318C10.4361 2.87082 11.7046 2.87082 12.487 3.65318C13.2693 4.43554 13.2693 5.70401 12.487 6.48637L10.7105 8.26284C10.5152 8.4581 10.5152 8.77469 10.7105 8.96995C10.9058 9.16521 11.2223 9.16521 11.4176 8.96995L13.1941 7.19348C14.367 6.02059 14.367 4.11896 13.1941 2.94607C12.0212 1.77319 10.1196 1.77318 8.94668 2.94607L7.1702 4.72255ZM10.719 6.13357C10.9142 5.9383 10.9142 5.62172 10.719 5.42646C10.5237 5.2312 10.2071 5.2312 10.0119 5.42646L5.29782 10.1405C5.10255 10.3358 5.10255 10.6523 5.29782 10.8476C5.49308 11.0429 5.80966 11.0429 6.00492 10.8476L10.719 6.13357Z",fill:"#175199"},void 0)},void 0)},M=function(){return(0,l.tZ)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.65469 2.70604C7.87379 2.60645 8.12525 2.60645 8.34436 2.70604L13.7908 5.18167C13.921 5.24089 13.921 5.42592 13.7907 5.48513L8.34436 7.96076C8.12525 8.06036 7.87379 8.06036 7.65469 7.96076L2.20829 5.48513C2.07803 5.42592 2.07803 5.24089 2.2083 5.18167L7.65469 2.70604ZM8.75816 1.79568C8.27613 1.57657 7.72291 1.57657 7.24088 1.79568L1.79449 4.27131C0.882632 4.68579 0.882629 5.98101 1.79449 6.3955L7.24088 8.87113C7.72291 9.09023 8.27613 9.09023 8.75816 8.87113L14.2046 6.3955C15.1164 5.98102 15.1164 4.68579 14.2046 4.27131L8.75816 1.79568ZM4.49952 8.66674C4.49952 8.39059 4.27567 8.16674 3.99952 8.16674C3.72338 8.16674 3.49952 8.39059 3.49952 8.66674V11.3474C3.49952 11.8792 3.68936 12.4518 4.16627 12.8326C4.84015 13.3706 6.14995 14.1667 7.99952 14.1667C10.4721 14.1667 11.6637 13.2397 12.1666 12.6383C12.4345 12.3179 12.4995 11.9289 12.4995 11.6147V8.66674C12.4995 8.39059 12.2757 8.16674 11.9995 8.16674C11.7234 8.16674 11.4995 8.39059 11.4995 8.66674V11.6147C11.4995 11.8083 11.4572 11.9277 11.3994 11.9969C11.0936 12.3627 10.187 13.1667 7.99952 13.1667C6.44907 13.1667 5.35323 12.5006 4.79019 12.0511C4.60889 11.9063 4.49952 11.6578 4.49952 11.3474V8.66674Z",fill:"#175199"},void 0)},void 0)},j=function(e){var t=e.title,i=e.thumbnail,n=e.markInfo,d=W;return"cap"===i?d=M:"none"===i&&(d=null),(0,l.BX)(l.HY,{children:[(0,l.BX)("span",{css:function(e){var t;return(0,r._)((0,o._)({color:(null===(t=null==e?void 0:e.colors)||void 0===t?void 0:t.GBL07A)||"#175199",fontSize:"17px",fontWeight:400,lineHeight:"27px"},(0,f.S)(2)),{"svg, span":{verticalAlign:"middle"}})},children:[d&&(0,l.tZ)(d,{},void 0),(0,l.tZ)("span",{children:t},void 0)]},void 0),(0,l.tZ)("span",{css:function(e){var t;return{marginTop:"4px",padding:(null==n?void 0:n.shadowColor)?"2px 4px":"2px 0",borderRadius:"2px",fontSize:"9px",fontWeight:500,color:(null===(t=null==e?void 0:e.colors)||void 0===t?void 0:t.GBK07A)||"#BFBFBF",backgroundColor:(null==n?void 0:n.shadowColor)?(0,g.a)((null==e?void 0:e.colors[null==n?void 0:n.shadowColor])||"#F6F6F6").alpha(.5):""}},children:null==n?void 0:n.text},void 0)]},void 0)},D=function(e){return(0,r._)((0,o._)({},S,F(e)),{height:"104px"})},P=function(){return(0,r._)((0,o._)({},B),{flex:"1 1 auto"})},q=function(){return{marginRight:"4px",verticalAlign:"middle"}},N=function(){return(0,r._)((0,o._)({},S),{flex:1,alignItems:"stretch",marginTop:"4px"})},O=function(){return(0,r._)((0,o._)({},B),{justifyContent:"left"})},V=function(){return{display:"flex",justifyContent:"center",alignItems:"end",marginLeft:"8px"}},G=function(e){var t=e.courseTag;return(0,l.tZ)("div",{css:{overflow:"hidden",display:"flex",flexWrap:"wrap",alignItems:"center",height:"18px"},children:Array.isArray(t)&&t.map(function(e,t){return e&&(0,l.tZ)("span",{css:{margin:"0px 4px 0px 0px",padding:"0px 4px",boxSizing:"border-box",height:"18px",borderRadius:"2px",backgroundColor:"#E8EAED",fontSize:"9px",fontWeight:400,lineHeight:"18px",color:"#36393F"},children:e},"".concat(t).concat(e))})},void 0)},U=function(e){var t=(e||{}).hotCourseComment;return(0,l.BX)("div",{css:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"2px"},children:[(0,l.tZ)("div",{css:{display:"flex",alignItems:"center",height:"16px",borderRadius:"2px 0 0 2px",background:"linear-gradient(94deg, rgba(255, 76, 0, 0.39) 6.35%, rgba(255, 76, 0, 0.19) 91.53%)",width:"16px",justifyContent:"center",flexShrink:0},children:(0,l.tZ)("img",{css:{width:"7.42px",height:"9.64px"},src:"https://picx.zhimg.com/v2-f293d97b9d34fb6d8225ff9c3c9662b9.png",alt:"热度"},void 0)},void 0),(0,l.tZ)("div",{css:(0,o._)({color:"#F24901",fontSize:"10px",height:"16px",lineHeight:"16px",maxWidth:"175px",padding:"0 4px",background:"#FFEDE6"},(0,f.S)(1)),children:void 0===t?"":t},void 0)]},void 0)},Y=[],K=[],Q={marquee:"Marquee_module_marquee__218919a6","marquee-text":"Marquee_module_marqueeText__218919a6","no-animation":"Marquee_module_noAnimation__218919a6","marquee-item":"Marquee_module_marqueeItem__218919a6"};!function(e,t){var i=function(){var e=document.createElement("style");if(e.setAttribute("type","text/css"),t.attributes)for(var i=Object.keys(t.attributes),n=0;n<i.length;n++)e.setAttribute(i[n],t.attributes[i[n]]);var r="prepend"===o?"afterbegin":"beforeend";return d.insertAdjacentElement(r,e),e};if(e&&"undefined"!=typeof document){var n,o=!0===t.prepend?"prepend":"append",r=!0===t.singleTag,d="string"==typeof t.container?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(r){var a=Y.indexOf(d);-1===a&&(K[a=Y.push(d)-1]={}),n=K[a]&&K[a][o]?K[a][o]:K[a][o]=i()}else n=i();65279===e.charCodeAt(0)&&(e=e.substring(1)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))}}(".Marquee_module_marquee__218919a6 {\n  overflow: hidden;\n}\n\n.Marquee_module_marqueeText__218919a6 {\n  position: relative;\n  transition: all 0.5s ease-in-out;\n}\n.Marquee_module_noAnimation__218919a6 {\n  transition: none;\n}\n\n.Marquee_module_marqueeItem__218919a6 {\n  display: flex;\n  align-items: center;\n  flex-wrap: nowrap;\n  overflow: hidden;\n  flex: 1;\n}\n",{});var $=function(e){var t=e.texts,i=void 0===t?[]:t,n=e.interval,r=void 0===n?1e3:n,a=e.gap,s=void 0===a?20:a,u=e.height,p=void 0===u?16:u,v=(0,c.useRef)(0),h=(0,d._)((0,c.useState)(0),2),g=h[0],x=h[1],m=(0,d._)((0,c.useState)([]),2),b=m[0],_=m[1],C=(0,d._)((0,c.useState)(!1),2),w=C[0],Z=C[1];return(0,c.useEffect)(function(){i.length&&(1===i.length&&_(i),_(i.concat([i[0]])))},[i]),(0,c.useEffect)(function(){var e=setInterval(function(){if(!Array.isArray(b))return 0;var e=(v.current+1)%b.length;v.current+2===b.length&&setTimeout(function(){Z(!0),x(0*(p+s)),e=0},500),Z(!1),x(-e*(p+s)),v.current=e},r);return function(){return clearInterval(e)}},[b,r,p,s]),(0,l.tZ)("div",{className:Q.marquee,style:{height:p},children:(0,l.tZ)("div",{className:"".concat(Q["marquee-text"]," ").concat(w?Q["no-animation"]:""),style:{transform:"translateY(".concat(g,"px)")},children:null==b?void 0:b.map(function(e,t){return(0,l.BX)("div",{className:Q["marquee-item"],css:{height:"".concat(p,"px")},children:[(null==e?void 0:e.avatarUrl)&&(0,l.tZ)("img",{css:{marginRight:"8px",width:"28px",height:"28px",borderRadius:"14px"},src:e.avatarUrl,alt:"头像"},void 0),(0,l.tZ)("div",{css:(0,o._)({flex:1},(0,f.S)(1)),children:null==e?void 0:e.maskUsername},void 0)]},t)})},void 0)},void 0)},J=function(e){var t=e.courseComments,i=void 0===t?[]:t;return(0,l.BX)("div",{css:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"2px"},children:[(0,l.tZ)("div",{css:{display:"flex",alignItems:"center",height:"16px",borderRadius:"2px 0 0 2px",background:"linear-gradient(94deg, rgba(255, 76, 0, 0.39) 6.35%, rgba(255, 76, 0, 0.19) 91.53%)",width:"16px",justifyContent:"center",flexShrink:0},children:(0,l.tZ)("img",{css:{width:"11px",height:"11px"},src:"https://pic1.zhimg.com/v2-e53a358a89deef08e866e932f62d3e7d.png",alt:"好评"},void 0)},void 0),(0,l.tZ)("div",{css:(0,o._)({position:"relative",height:"16px",color:"#F24901",fontSize:"10px",maxWidth:"175px",padding:"0 4px",background:"#FFEDE6"},(0,f.S)(1)),children:(0,l.tZ)($,{texts:(null==i?void 0:i.map(function(e){return{maskUsername:e}}))||[],interval:5e3,gap:0,height:16},void 0)},void 0)]},void 0)},ee=function(e){var t=e.title,i=e.buttonText,n=e.buttonBgColor,d=e.thumbnail,a=e.subtitleMode,c=e.hasBrandMark,s=e.subtitleConfig||{},u=s.courseTag,p=void 0===u?[]:u,v=s.hotCourseComment,h=void 0===v?"":v,g=s.courseComments,x=void 0===g?[]:g,m=s.subtitle,b=void 0===m?"":m;return(0,l.BX)("div",{css:D,children:[(0,l.tZ)("div",{css:function(e){return(0,r._)((0,o._)({},(0,r._)((0,o._)({},I()),{width:"140px",height:"80px"})),{backgroundImage:d?"url(".concat(d,")"):""})}},void 0),(0,l.BX)("div",{css:P,children:[(0,l.BX)("div",{css:function(){return(0,o._)({marginTop:"4px",lineHeight:b?"24px":"20px",fontWeight:700,fontSize:"15px",wordBreak:"break-word"},(0,f.S)(b?1:2))},children:[c&&(0,l.tZ)("img",{css:q,src:"https://picx.zhimg.com/v2-b2512e8b9983ef8a96b383f9c8eb1c2a.png",width:"86px",height:"16px",alt:"图片"},void 0),(0,l.tZ)("span",{css:{verticalAlign:"middle"},children:t},void 0)]},void 0),(0,l.BX)("div",{css:N,children:[(0,l.tZ)("div",{css:O,children:1===a?(0,l.BX)(l.HY,{children:[b&&(0,l.tZ)("span",{css:function(e){var t;return(0,o._)({flexWrap:"nowrap",width:"100%",lineHeight:"20px",fontSize:"12px",wordBreak:"break-word",color:(null===(t=null==e?void 0:e.colors)||void 0===t?void 0:t.GBK06A)||"#999999"},(0,f.S)(1))},children:b},void 0),p&&(0,l.tZ)("div",{css:{marginTop:"6px"},children:(0,l.tZ)(G,{courseTag:p},void 0)},void 0)]},void 0):2===a?(0,l.BX)(l.HY,{children:[b&&(0,l.tZ)("span",{css:function(e){var t;return(0,o._)({flexWrap:"nowrap",width:"100%",lineHeight:"20px",fontSize:"12px",wordBreak:"break-word",marginBottom:"8px",color:(null===(t=null==e?void 0:e.colors)||void 0===t?void 0:t.GBK06A)||"#999999"},(0,f.S)(1))},children:b},void 0),(0,l.BX)("div",{css:{display:"flex",alignItems:"center"},children:[(0,l.tZ)(U,{hotCourseComment:h},void 0),(0,l.tZ)("div",{css:{width:"4px"}},void 0),(0,l.tZ)(J,{courseComments:x},void 0)]},void 0)]},void 0):3===a?(0,l.BX)(l.HY,{children:[(0,l.BX)("div",{css:{display:"flex",alignItems:"center"},children:[(0,l.tZ)(U,{hotCourseComment:h},void 0),(0,l.tZ)("div",{css:{width:"4px"}},void 0),(0,l.tZ)(J,{courseComments:x},void 0)]},void 0),b&&(0,l.tZ)("div",{css:(0,o._)({marginTop:"8px",color:"#767B8A",fontSize:"14px",lineHeight:"20px"},(0,f.S)(1)),children:b},void 0)]},void 0):void 0},void 0),i&&(0,l.tZ)("div",{css:V,children:(0,l.tZ)("div",{css:function(){return{display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"24px",backgroundColor:n,color:"#FFF",fontSize:"13px",fontWeight:500,width:"95px",height:"32px"}},children:i},void 0)},void 0)]},void 0)]},void 0)]},void 0)},et={display:"flex",justifyContent:"center",alignItems:"end",marginLeft:"8px"},ei={display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"24px",color:"#FFF",fontSize:"11px",fontWeight:500,width:"81px",height:"28px"},en=function(e){var t;return(0,o._)({flexWrap:"nowrap",width:"100%",lineHeight:"20px",fontSize:"12px",wordBreak:"break-word",color:(null===(t=null==e?void 0:e.colors)||void 0===t?void 0:t.GBK06A)||"#999999"},(0,f.S)(1))},eo=(0,r._)((0,o._)({},S),{flex:1,alignItems:"stretch",marginTop:"4px"}),er=function(){return(0,r._)((0,o._)({},B),{justifyContent:"left"})},ed=function(){return(0,r._)((0,o._)({},B),{flex:"1 1 auto"})},ea=function(){return{width:"1px",height:"9px",background:"#C3C7CF",margin:"0 4px"}},el=function(){return{display:"flex",alignItems:"center",justifyContent:"space-between",height:"48px",padding:"0 12px"}},ec=function(e){var t=e.courseTag;return(0,l.tZ)("div",{css:{overflow:"hidden",display:"flex",flexWrap:"wrap",alignItems:"center",height:"18px"},children:Array.isArray(t)&&t.map(function(e,t){return e&&(0,l.tZ)("span",{css:{margin:"0px 4px 0px 0px",padding:"0px 4px",boxSizing:"border-box",height:"18px",borderRadius:"2px",backgroundColor:"#E8EAED",fontSize:"9px",fontWeight:400,lineHeight:"18px",color:"#36393F"},children:e},"".concat(t).concat(e))})},void 0)},es=function(e){var t=e.title,i=e.thumbnail,n=e.buttonText,a=e.buttonBgColor,s=e.subtitleMode,u=e.leftCornerConfig,p=e.leftCornerMode,v=e.subtitleConfig||{},h=v.courseTag,g=void 0===h?[]:h,x=v.hotCourseComment,m=void 0===x?"":x,b=v.courseComments,_=void 0===b?[]:b,C=v.thumbnail,w=v.subtitle,Z=void 0===w?"":w,y=(u||{}).brandCopy,k=(0,d._)((0,c.useState)([]),2),B=k[0],z=k[1];return(0,c.useEffect)(function(){var e;z((null===(e=null==u?void 0:u.users)||void 0===e?void 0:e.map(function(e){return e.maskUsername="".concat((null==e?void 0:e.maskUsername)||"","刚刚领取了课程～"),e}))||[])},[u]),(0,l.BX)("div",{css:{borderRadius:"10px",background:"rgba(5, 109, 232, 0.08)"},children:[(0,l.BX)("div",{css:el,children:[1===p?(0,l.tZ)("div",{css:{color:"#36393F",fontSize:"13px",lineHeight:"19px"},children:(0,l.tZ)($,{texts:B,interval:5e3,gap:0,height:28},void 0)},void 0):2===p?(0,l.BX)("div",{css:{display:"flex",alignItems:"center",fontSize:"16px",fontWeight:500,color:"#191B1F"},children:[(0,l.tZ)("img",{css:{marginRight:"4px"},src:"https://pic1.zhimg.com/v2-62c9f498a32a1cb3871aa7c0be86aede.png",alt:"logo"},void 0),"知乎知学堂精选好课",(0,l.tZ)("div",{css:ea},void 0),(0,l.tZ)("span",{css:{fontSize:"12px",fontWeight:300,color:"#191B1F",lineHeight:"12px"},children:void 0===y?"":y},void 0)]},void 0):void 0,n&&(0,l.tZ)("div",{css:et,children:(0,l.tZ)("div",{css:function(){return(0,r._)((0,o._)({},ei),{backgroundColor:a})},children:n},void 0)},void 0)]},void 0),(0,l.BX)("div",{css:function(e){return(0,o._)({},(0,r._)((0,o._)({},S,F(e)),{height:"104px",background:"#F8F8FA",borderRadius:"10px"}))},children:[(0,l.tZ)("div",{css:function(e){return(0,r._)((0,o._)({},(0,r._)((0,o._)({},I()),{width:"140px",height:"80px"})),{backgroundImage:i?"url(".concat(i,")"):""})}},void 0),(0,l.BX)("div",{css:ed,children:[(0,l.tZ)("div",{css:function(){return(0,o._)({marginTop:"4px",lineHeight:Z||5===s?"24px":"20px",fontWeight:700,fontSize:"15px"},(0,f.S)(Z||5===s?1:2))},children:t},void 0),4===s||6===s?(0,l.tZ)("div",{css:eo,children:(0,l.tZ)("div",{css:er,children:6===s?(0,l.BX)(l.HY,{children:[Z&&(0,l.tZ)("span",{css:function(e){return(0,o._)({},en(e))},children:Z},void 0),g&&(0,l.tZ)("div",{css:{marginTop:"6px"},children:(0,l.tZ)(ec,{courseTag:g},void 0)},void 0)]},void 0):4===s?(0,l.BX)(l.HY,{children:[Z&&(0,l.tZ)("span",{css:function(e){return(0,o._)({},en(e))},children:Z},void 0),(0,l.BX)("div",{css:{display:"flex",alignItems:"center",marginTop:"8px"},children:[(0,l.tZ)(U,{hotCourseComment:m},void 0),(0,l.tZ)("div",{css:{width:"4px"}},void 0),(0,l.tZ)(J,{courseComments:_},void 0)]},void 0)]},void 0):5===s?(0,l.BX)(l.HY,{children:[(0,l.BX)("div",{css:{display:"flex",alignItems:"center"},children:[(0,l.tZ)(U,{hotCourseComment:m},void 0),(0,l.tZ)("div",{css:{width:"4px"}},void 0),(0,l.tZ)(J,{courseComments:_},void 0)]},void 0),Z&&(0,l.tZ)("div",{css:(0,o._)({marginTop:"8px",color:"#767B8A",fontSize:"14px",lineHeight:"20px"},(0,f.S)(1)),children:Z},void 0)]},void 0):void 0},void 0)},void 0):(0,l.tZ)("div",{css:{display:"flex"},children:(0,l.tZ)("img",{src:void 0===C?"":C,width:"auto",height:"52px",alt:"图片"},void 0)},void 0)]},void 0)]},void 0)]},void 0)},eu=function(e){var t=e.title,i=e.buttonText,n=e.buttonBgColor,d=e.thumbnail,a=e.hasBrandMark;return(0,l.tZ)("div",{css:function(e){return(0,r._)((0,o._)({},F(e)),{height:"104px"})},children:(0,l.BX)("div",{css:function(){return(0,r._)((0,o._)({},B),{flex:"1 1 auto"})},children:[(0,l.BX)("div",{css:function(){return(0,r._)((0,o._)({},S),{justifyContent:"center"})},children:[(0,l.tZ)(l.HY,{children:a&&(0,l.BX)("div",{css:function(){return(0,r._)((0,o._)({},S),{justifyContent:"normal",marginRight:"4px"})},children:[(0,l.tZ)("div",{css:function(){return{width:"28px",height:"16px",borderRadius:"2px",background:"#0062FF",display:"flex",justifyContent:"center",alignItems:"center",color:"#FFF",fontSize:"10px",lineHeight:"12px"}},children:"官方"},void 0),(0,l.tZ)("div",{css:function(){return{width:"58px",height:"16px",borderRadius:"2px",background:"#D9EEFF",display:"flex",justifyContent:"center",alignItems:"center",color:"#0062FF",fontSize:"10px",lineHeight:"12px"}},children:"知乎知学堂"},void 0)]},void 0)},void 0),(0,l.tZ)("span",{css:function(){return(0,o._)({flex:1,lineHeight:"24px",fontWeight:700,fontSize:"15px",wordBreak:"break-word"},(0,f.S)(1))},children:t},void 0)]},void 0),(0,l.BX)("div",{css:function(){return(0,r._)((0,o._)({},S),{flex:1,alignItems:"stretch",marginTop:"6px"})},children:[(0,l.tZ)("img",{src:d,width:"auto",height:"52px",alt:"图片"},void 0),i&&(0,l.tZ)("div",{css:function(){return{display:"flex",justifyContent:"center",alignItems:"end",marginLeft:"8px"}},children:(0,l.tZ)("div",{css:function(){return{display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"24px",backgroundColor:n,color:"#FFF",fontSize:"13px",fontWeight:500,width:"82px",height:"32px"}},children:i},void 0)},void 0)]},void 0)]},void 0)},void 0)},ep=function(){return(0,l.tZ)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.55162 12.5885C2.76925 11.8062 2.76925 10.5377 3.55162 9.75534L5.29004 8.01692C5.4853 7.82166 5.4853 7.50507 5.29004 7.30981C5.09478 7.11455 4.7782 7.11455 4.58294 7.30981L2.84451 9.04824C1.67162 10.2211 1.67162 12.1228 2.84451 13.2956C4.0174 14.4685 5.91902 14.4685 7.09191 13.2956L8.83034 11.5572C9.0256 11.362 9.0256 11.0454 8.83034 10.8501C8.63508 10.6548 8.31849 10.6548 8.12323 10.8501L6.38481 12.5885C5.60244 13.3709 4.33398 13.3709 3.55162 12.5885ZM7.1702 4.72255C6.97494 4.91781 6.97494 5.23439 7.1702 5.42965C7.36546 5.62492 7.68205 5.62492 7.87731 5.42965L9.65378 3.65318C10.4361 2.87082 11.7046 2.87082 12.487 3.65318C13.2693 4.43554 13.2693 5.70401 12.487 6.48637L10.7105 8.26284C10.5152 8.4581 10.5152 8.77469 10.7105 8.96995C10.9058 9.16521 11.2223 9.16521 11.4176 8.96995L13.1941 7.19348C14.367 6.02059 14.367 4.11896 13.1941 2.94607C12.0212 1.77319 10.1196 1.77318 8.94668 2.94607L7.1702 4.72255ZM10.719 6.13357C10.9142 5.9383 10.9142 5.62172 10.719 5.42646C10.5237 5.2312 10.2071 5.2312 10.0119 5.42646L5.29782 10.1405C5.10255 10.3358 5.10255 10.6523 5.29782 10.8476C5.49308 11.0429 5.80966 11.0429 6.00492 10.8476L10.719 6.13357Z",fill:"#175199"},void 0)},void 0)},ev=function(){return(0,l.tZ)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.65469 2.70604C7.87379 2.60645 8.12525 2.60645 8.34436 2.70604L13.7908 5.18167C13.921 5.24089 13.921 5.42592 13.7907 5.48513L8.34436 7.96076C8.12525 8.06036 7.87379 8.06036 7.65469 7.96076L2.20829 5.48513C2.07803 5.42592 2.07803 5.24089 2.2083 5.18167L7.65469 2.70604ZM8.75816 1.79568C8.27613 1.57657 7.72291 1.57657 7.24088 1.79568L1.79449 4.27131C0.882632 4.68579 0.882629 5.98101 1.79449 6.3955L7.24088 8.87113C7.72291 9.09023 8.27613 9.09023 8.75816 8.87113L14.2046 6.3955C15.1164 5.98102 15.1164 4.68579 14.2046 4.27131L8.75816 1.79568ZM4.49952 8.66674C4.49952 8.39059 4.27567 8.16674 3.99952 8.16674C3.72338 8.16674 3.49952 8.39059 3.49952 8.66674V11.3474C3.49952 11.8792 3.68936 12.4518 4.16627 12.8326C4.84015 13.3706 6.14995 14.1667 7.99952 14.1667C10.4721 14.1667 11.6637 13.2397 12.1666 12.6383C12.4345 12.3179 12.4995 11.9289 12.4995 11.6147V8.66674C12.4995 8.39059 12.2757 8.16674 11.9995 8.16674C11.7234 8.16674 11.4995 8.39059 11.4995 8.66674V11.6147C11.4995 11.8083 11.4572 11.9277 11.3994 11.9969C11.0936 12.3627 10.187 13.1667 7.99952 13.1667C6.44907 13.1667 5.35323 12.5006 4.79019 12.0511C4.60889 11.9063 4.49952 11.6578 4.49952 11.3474V8.66674Z",fill:"#175199"},void 0)},void 0)},eh=function(e){var t=e.title,i=e.thumbnail,n=e.titleBgColor,r=ep;return"cap"===i?r=ev:"none"===i&&(r=null),(0,l.tZ)(l.HY,{children:(0,l.BX)("div",{css:{padding:"0 12px",borderRadius:"12px",display:"flex",flex:"0 0 auto",height:"44px",alignItems:"center",background:n,width:"100%",color:"#084289",fontSize:"14px",textDecorationLine:"underline",fontWeight:400,flexWrap:"nowrap",lineHeight:"20px"},children:[(0,l.BX)("span",{css:{flexShrink:0,display:"flex",alignItems:"center"},children:[" ",r&&(0,l.tZ)(r,{},void 0)]},void 0),(0,l.tZ)("span",{css:(0,o._)({},(0,f.S)(1)),children:t},void 0)]},void 0)},void 0)},ef=function(e){var t=e.title,i=e.subtitle,n=e.thumbnail,d=e.enableButton,a=e.buttonText,c=e.buttonTextColor,s=e.markInfo;return(0,l.BX)("div",{css:function(e){return(0,r._)((0,o._)({},B,F(e)),{padding:"15px 16px",borderRadius:"10px"})},children:[(0,l.BX)("div",{css:function(e){var t;return(0,r._)((0,o._)({},S),{fontSize:"15px",fontWeight:500,color:(null===(t=null==e?void 0:e.colors)||void 0===t?void 0:t.GBK02A)||"#121212",lineHeight:"normal"})},children:[(0,l.tZ)("span",{css:(0,o._)({},z,(0,f.S)(1)),children:t},void 0),(0,l.BX)("span",{css:function(e){return(0,r._)((0,o._)({},A(d&&c||"")(e)),{fontSize:"12px",fontWeight:500,lineHeight:"normal"})},children:[d&&(0,l.tZ)("span",{children:a},void 0),(0,l.tZ)(h.ZP,{size:12},void 0)]},void 0)]},void 0),i&&(0,l.tZ)("div",{css:function(e){var t;return(0,o._)({paddingTop:"5px",fontSize:"14px",fontWeight:400,lineHeight:"25px",color:(null===(t=null==e?void 0:e.colors)||void 0===t?void 0:t.GBK03A)||"#444444"},(0,f.S)(2))},children:i},void 0),(0,l.tZ)("div",{css:function(e){return(0,r._)((0,o._)({},I()),{position:"relative",margin:"10px 0 0 0",paddingBottom:"57%",height:0,width:"100%",backgroundImage:n?"url(".concat(n,")"):""})},children:(0,l.tZ)(R,{type:"image",markInfo:s},void 0)},void 0)]},void 0)},eg=function(){var e=(0,p.n)(),t=e.origin||"",i=/zhixuetang/.test(t),n=/osee2unifiedRelease|Futureve/.test(t),a="",l="",c="",s="";if(i){if(e.iOS){var u=(0,d._)(t.match(/zhixuetang\/(\d+)/)||[],2)[1];u&&(a=u);var v=(0,d._)(t.match(/zhixuetangVersion\/(\d+\.\d+\.\d+)/)||[],2)[1],h=(0,d._)(t.match(/zhixuetang\/(\d+\.\d+\.\d+)/)||[],2)[1],f=v||h;f&&(l=f);var g=(0,d._)(t.toLowerCase().match(/os\s+(\d+)_(\d+)_?(\d+)?/)||[],4),x=g[1],m=g[2],b=g[3];x&&(s="".concat(x,".").concat(m,".").concat(b||0))}else if(e.Android){var _=(0,d._)(t.match(/Ravenclaw\/(\d+\.\d+\.\d+)/)||[],2)[1];_&&(c=_)}}else if(e.iOS){var C=(0,d._)(t.match(/osee2unifiedRelease\/(\d+)/)||[],2)[1];C&&(a=C);var w=(0,d._)(t.match(/osee2unifiedReleaseVersion\/(\d+\.\d+\.\d+)/)||[],2)[1];w&&(l=w);var Z=(0,d._)(t.toLowerCase().match(/os\s+(\d+)_(\d+)_?(\d+)?/)||[],4),y=Z[1],k=Z[2],S=Z[3];y&&(s="".concat(y,".").concat(k,".").concat(S||0))}else if(e.Android){var B=(0,d._)(t.match(/Futureve\/(\d+\.\d+\.\d+)/)||[],2)[1];B&&(c=B)}return(0,r._)((0,o._)({},e),{iOSBuildVersion:a,iOSAppVersion:l,androidAppVersion:c,iOSVersion:s,ZhihuNew:n})},ex=function(e,t){e.ZhihuHybrid?(0,u.Z)("base/checkHadViewAppeared").dispatch().then(function(e){e.hadViewAppeared?t():(0,u.Z)("base/viewDidAppear").listen(function(){t()})}):t()},em=function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=(0,d._)((0,c.useState)({images:[],static:[]}),2),n=i[0],o=i[1],r=(0,c.useRef)(!1),a=(0,p.n)();return(0,c.useEffect)(function(){!m()(e)&&(null==e?void 0:e.isPreload)&&(null==e?void 0:e.componentTargetId)&&!t&&ex(a,function(){r.current||(r.current=!0,setTimeout(function(){var t=(null==e?void 0:e.preloadActivityId)||(null==e?void 0:e.componentTargetId)||"";_("".concat(C,"/edu-marketing/activities/preload/").concat(t)).then(function(e){e&&e.data&&o(e.data)}).finally(function(){r.current=!1})},2e3))})},[e,t,a]),n},eb=function(e,t){if(!e||!t)return e?1:t?-1:0;e=e.toString(),t=t.toString(),e=e.split("-")[0],t=t.split("-")[0];for(var i=e.split(".").map(function(e){return Number(e)}),n=t.split(".").map(function(e){return Number(e)}),o=Math.min(e.length,n.length),r=0;r<o;r++){if(i[r]>n[r])return 1;if(i[r]<n[r])return -1}return e.length-t.length},e_={gt:function(e,t){return eb(e,t)>0},lt:function(e,t){return 0>eb(e,t)},eq:function(e,t){return 0===eb(e,t)},gte:function(e,t){return eb(e,t)>=0},lte:function(e,t){return 0>=eb(e,t)}},eC=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.iOS,n=t.Android;return!!(e.iOS&&i&&e_.gte(e.iOSAppVersion,i)||e.Android&&n&&e_.gte(e.androidAppVersion,n))},ew=function(e){var t=eg();return!Array.isArray(e)||e.length<=0?[]:e.map(function(e){return({supportResourceImageIOS:eC(t,{iOS:"4.32.1"}),supportZhihuPreload:eC(t,{Android:"10.1.0",iOS:"10.1.0"})})[e]})},eZ=/^https.*\.css$/,ey=/^https.*\.js$/,ek=function(e){var t=e.data,i=(0,c.useRef)(null),n=eg(),o=(0,d._)(ew(["supportResourceImageIOS","supportZhihuPreload"]),2),r=o[0],a=o[1],p=(0,c.useMemo)(function(){return n.ZhihuNew&&a},[a,n.ZhihuNew]),v=em(t,p),h=(0,s.Q4)().trackEvent,f=t.preloadUrl,g=void 0===f?"":f,x=t.componentTargetId,b=t.preloadActivityId,_=(void 0===b?"":b)||(void 0===x?"":x);console.log("supportZhihuPreload",a),(0,c.useEffect)(function(){if(i.current)try{i.current.onload=function(){window.parent.postMessage("frame-loaded","*")}}catch(e){console.log("frame onload error")}},[v,h]),(0,c.useEffect)(function(){var e=function(e){var t,i;m()(null==v?void 0:v.images)&&m()(null==v?void 0:v.static)||"frame-loaded"!==e.data||h({eventType:"Unknown",elementLocation:{type:"Block",moduleId:"edu_loading_time_block",content:{type:"Training",id:_}}},{configMap:{preload_image:(null===(t=null==v?void 0:v.images)||void 0===t?void 0:t[0])||"",preload_static:(null===(i=null==v?void 0:v.static)||void 0===i?void 0:i[0])||""}})};try{window.addEventListener("message",e)}catch(e){console.log("add message event error")}return function(){try{window.removeEventListener("message",e)}catch(e){console.log("remove message event error")}}},[_,null==v?void 0:v.images,null==v?void 0:v.static,h]);var C=(0,c.useMemo)(function(){var e="";if(p)return e;var t=v||{},i=t.static,o=t.images;if(Array.isArray(i)&&i.length>0&&i.forEach(function(t){eZ.test(t)&&(e+='<link rel="stylesheet" href="'.concat(t,'"></link>')),ey.test(t)&&(e+='<script rel="preload" src="'.concat(t,'"></script>'))}),Array.isArray(o)&&o.length>0){var d="";o.forEach(function(e){var t=e;n.ZhihuNew&&n.iOS&&r&&(t=e.replace("https","resource")),d+="<img src=".concat(t," />")}),d&&(e+=d="<body>".concat(d,"</body>"))}return e},[p,v,r,n.ZhihuNew,n.iOS]);return((0,c.useEffect)(function(){ex(n,function(){if(p&&_){var e="".concat("https://www.zhihu.com","/education/preload-static/activity/").concat(_,"?pkey=").concat(_),t=g||e;t&&setTimeout(function(){(0,u.Z)("edu/preload").dispatch({url:t})},2e3)}})},[_,g,p,n]),m()(t)||!C)?null:(0,l.tZ)("iframe",{title:"preload",ref:i,width:0,height:0,style:{display:"none"},srcDoc:C},void 0)},eS=function(e){var t=e.templateType,i=e.className;return(0,l.BX)("div",{css:6===t?function(){return{display:"inline-block",margin:"0 auto",fontFamily:"PingFang SC",borderRadius:"8px",textAlign:"left",cursor:"pointer",":hover":{textDecoration:"none"}}}:[7,8,9,10].includes(t)?function(){return{display:"block",margin:"1em auto",width:"100%",fontFamily:"PingFang SC",borderRadius:"4px",textAlign:"left",cursor:"pointer",":hover":{textDecoration:"none"}}}:function(){return{display:"block",margin:"1em auto",maxWidth:"390px",fontFamily:"PingFang SC",borderRadius:"8px",textAlign:"left",cursor:"pointer",":hover":{textDecoration:"none"}}},className:i,children:[function(){if(10===t)return(0,l.tZ)(eh,(0,o._)({},e),void 0);if(9===t)return(0,l.tZ)(eu,(0,o._)({},e),void 0);if(8===t)return(0,l.tZ)(es,(0,o._)({},e),void 0);if(7===t)return(0,l.tZ)(ee,(0,o._)({},e),void 0);if(6===t)return(0,l.tZ)(j,(0,o._)({},e),void 0);if(5===t)return(0,l.tZ)(ef,(0,o._)({},e),void 0);if(4===t)return(0,l.tZ)(X,(0,o._)({},e),void 0);else if(3===t)return(0,l.tZ)(X,(0,o._)({},e),void 0);else if(2===t)return(0,l.tZ)(E,(0,o._)({},e),void 0);else if(1===t)return(0,l.tZ)(H,(0,o._)({},e),void 0);else return null}(),!!(null==e?void 0:e.isPreload)&&(0,l.tZ)(ek,{data:e},void 0)]},void 0)},eB=C.indexOf("ming.in.zhihu.com")>0?"".concat(C,"/api/mocks/education-card.web/edu_cards"):"".concat(C,"/education-card/edu-cards"),eF=function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=arguments.length>2?arguments[2]:void 0,o=(0,d._)((0,c.useState)(null),2),r=o[0],l=o[1],s=(0,p.n)();return(0,c.useEffect)(function(){var o;(o=(0,n._)(function(){var n,o,r;return(0,a.__generator)(this,function(d){switch(d.label){case 0:if(!(e&&t))return[3,5];if(n="",o="",!s.ZhihuHybrid)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,(0,u.Z)("base/getHybridConfig").dispatch()];case 2:return n=(r=d.sent())&&r["x-app-za"]||"",o=r&&r["x-udid"]||"",[3,4];case 3:return d.sent(),[3,4];case 4:_("".concat(eB,"?card_ids=").concat(e),{headers:{"x-udid":o,"x-app-za":n,"X-Requested-With":"Fetch"}}).then(function(e){e&&e.data&&l((0,b.camelizeKeys)(e.data))}).catch(function(t){(i||w())(Error("EducationCard Fetch Error: ".concat((null==t?void 0:t.message)||"unknow")),{level:"warning",extra:{eduCardId:e}})}),d.label=5;case 5:return[2]}})}),function(){return o.apply(this,arguments)})()},[e,i,t,s.ZhihuHybrid]),r},eI=function(e){var t=e.title,i=e.buttonText,n=e.thumbnail,d=e.enableButton,a=e.markInfo,c=e.buttonTextColor,s=void 0===c?"":c,u=null==a?void 0:a.text;return(0,l.BX)("div",{css:function(e){return(0,r._)((0,o._)({},S,F(e)),{fontFamily:"PingFang SC",padding:"8px 12px 8px 8px",height:u?"42px":"36px",borderRadius:"6px"})},children:[(0,l.BX)("div",{css:{display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[n&&(0,l.tZ)("img",{src:n,alt:"",css:{marginRight:"8px",borderRadius:"2px",width:u?"26px":"20px",height:u?"26px":"20px"}},void 0),(0,l.BX)("div",{css:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[(0,l.tZ)("span",{css:function(e){var t,i;return(0,o._)({fontSize:"14px",fontWeight:(null===(t=null==e?void 0:e.fontWeights)||void 0===t?void 0:t.bold)||600,color:(null===(i=null==e?void 0:e.colors)||void 0===i?void 0:i.GBK03A)||"#444444",lineHeight:"18px",textAlign:"left",wordBreak:"break-word"},(0,f.S)(1))},children:t},void 0),u&&(0,l.tZ)("span",{css:function(e){var t;return{paddingTop:"2px",fontSize:"9px",fontWeight:400,color:(null===(t=null==e?void 0:e.colors)||void 0===t?void 0:t.GBK06A)||"#999999",lineHeight:"10px"}},children:(0,l.tZ)(R,{type:"text",markInfo:a},void 0)},void 0)]},void 0)]},void 0),(0,l.tZ)("div",{css:function(e){var t;return{flex:"0 0 auto",marginLeft:"3px",fontSize:"14px",fontWeight:e.fontWeights.bold,color:(null===(t=null==e?void 0:e.colors)||void 0===t?void 0:t[s])||"#FF7955",lineHeight:"18px"}},children:d?i:""},void 0)]},void 0)},ez=c.memo(function(e){var t=e.id,i=e.position,n=void 0===i?"editor":i,d=e.originData,a=e.isSmallCard,c=e.contentType,s=e.token,u=e.className,p=e.Popover,v=e.onData,h=e.onError,f=!!(!d&&t),g=eF((null==t?void 0:t.toString())||"",f,h),x=d||(null==g?void 0:g[t]),m=(null==n?void 0:n.toLowerCase())!=="editor"&&(null==c?void 0:c.toLowerCase())!=="activities"?null==x?void 0:x.markInfo:void 0;return"function"==typeof v&&v(x),x?"editor"===n?(0,l.tZ)(eS,(0,r._)((0,o._)({},x),{markInfo:m,className:u}),void 0):(0,l.tZ)(k,(0,r._)((0,o._)({},x),{contentType:null==c?void 0:c.toLowerCase(),token:s,id:t,isSmallCard:a,Popover:p,onError:h,children:a?(0,l.tZ)(eI,(0,r._)((0,o._)({},x),{markInfo:m}),void 0):(0,l.tZ)(eS,(0,r._)((0,o._)({},x),{markInfo:m,className:u}),void 0)}),void 0):null}),eT={RICHCONTENT:'<a data-draft-node="block" data-draft-type="edu-card" data-edu-card-id="1"></a>',IDAttr:"data-edu-card-id",TYPE:"edu-card",WebInsertCommand:"insert-edu-card:",HybridInsertCommand:"editor/insertEduCard",AvailableCardID:"1470725970378772481",EDU_CARD_LIMIT:30},eA=function(e){var t=e.root,i=e.eduCardProps,n=e.Popover,a=e.createLinkCardPortal,s=e.onError,u=(0,d._)((0,c.useState)([]),2),p=u[0],v=u[1];(0,c.useEffect)(function(){var e=t&&t.querySelectorAll("*[data-draft-type=".concat(eT.TYPE,"]"));if(e&&0!==e.length){var i=[],n=!0,o=!1,r=void 0;try{for(var d,a,l,c=e.keys()[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var s=l.value,u=null===(a=null===(d=e[s])||void 0===d?void 0:d.dataset)||void 0===a?void 0:a.eduCardId;u&&i.push(u)}}catch(e){o=!0,r=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw r}}v(i)}},[t]);var h=eF(p.join(","),!!p.length,s),f=function(e){return(0,l.tZ)(ez,(0,r._)((0,o._)({},e),{position:"content"}),void 0)},g=(0,c.useMemo)(function(){return a({idAttr:eT.IDAttr,selector:"a[".concat(eT.IDAttr,"]"),targetClassName:"RichText-EduCardContainer",component:f,getCardProps:function(e){return{id:e.id,originData:h&&h[e.id],Popover:n}}})},[n,h,a]);return h&&(0,l.tZ)(g,(0,r._)((0,o._)({},i),{root:t}),void 0)}}}]);
//# sourceMappingURL=lib-f3572862.app.d7ec7e2db90ddb91c8f1.js.map